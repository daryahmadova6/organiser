(this["webpackJsonpbootcamp-m4-starter"]=this["webpackJsonpbootcamp-m4-starter"]||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(17),s=a.n(c),r=a(15),o=a(13),l=a(4),u=a(5),h=a(7),b=a(6),j=a(3),d=(a(39),a(40),a(1)),m=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(d.jsx)("header",{className:"header",children:Object(d.jsx)("h1",{className:"header__title",children:"MustSee"})})}}]),a}(n.Component),v=(a(42),a(18)),O=a(28),p=a(12),f={list:[],movies:[],searchResult:""};a(43);var _=Object(v.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_BY_TITLE":return{searchResult:t.payload.title,movies:t.payload.movies.Search,list:e.list};case"ADD_TO_LIST":for(var a=0;a<e.list.length;a++)if(e.list[a].imdbID===t.payload.movie.imdbID)return e;var n=t.payload.movie;return Object(p.a)(Object(p.a)({},e),{},{list:[].concat(Object(O.a)(e.list),[Object(p.a)({},n)])});case"DELETE_ELEMENT":var i=e.list.filter((function(e){return e.imdbID!=t.payload.imdbID}));return Object(p.a)(Object(p.a)({},e),{},{list:i});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),x=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={searchLine:"",data:[]},e.searchLineChangeHandler=function(t){e.setState({searchLine:t.target.value})},e.searchBoxSubmitHandler=function(t){t.preventDefault();var a=e.state.searchLine;fetch("http://www.omdbapi.com/?s=".concat(a,"&apikey=").concat("b14e7045")).then((function(e){return e.json()})).then((function(t){_.dispatch({type:"SEARCH_BY_TITLE",payload:{title:e.state.searchLine,movies:t}}),e.setState({data:t})}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.searchLine;return Object(d.jsx)("div",{className:"search-box",children:Object(d.jsxs)("form",{className:"search-box__form",onSubmit:this.searchBoxSubmitHandler,children:[Object(d.jsxs)("label",{className:"search-box__form-label",children:["\u0418\u0441\u043a\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u043c \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e:",Object(d.jsx)("input",{value:e,type:"text",className:"search-box__form-input",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Shawshank Redemption",onChange:this.searchLineChangeHandler})]}),Object(d.jsx)("button",{type:"submit",className:"search-box__form-submit",disabled:!e,children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]})})}}]),a}(n.Component),y=(a(44),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.Title,a=e.Year,n=e.Poster,i=e.addToListMovies;return Object(d.jsxs)("article",{className:"movie-item",children:[Object(d.jsx)("img",{className:"movie-item__poster",src:n,alt:t}),Object(d.jsxs)("div",{className:"movie-item__info",children:[Object(d.jsxs)("h3",{className:"movie-item__title",children:[t,"\xa0(",a,")"]}),Object(d.jsx)("button",{type:"button",className:"movie-item__add-button",onClick:i,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043e\u043a"})]})]})}}]),a}(n.Component)),g=(a(45),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={movies:[]},e.addToListMovies=function(e){_.dispatch({type:"ADD_TO_LIST",payload:{movie:e}})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;_.subscribe((function(){var t=_.getState();e.setState({movies:t.movies})}))}},{key:"render",value:function(){var e=this;return Object(d.jsx)("ul",{className:"movies",children:this.state.movies.map((function(t){return Object(d.jsx)("li",{className:"movies__item",children:Object(d.jsx)(y,Object(p.a)(Object(p.a)({},t),{},{addToListMovies:function(){return e.addToListMovies(t)}}))},t.imdbID)}))})}}]),a}(n.Component)),N=(a(46),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={title:"\u041d\u043e\u0432\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",isTitle:!1,list:[],id:[]},e.changeTitleHandler=function(t){e.setState({title:t.target.value})},e.clickHandlerDelete=function(e){_.dispatch({type:"DELETE_ELEMENT",payload:{imdbID:e}})},e.clickHandlerSave=function(){e.setState({isTitle:!0})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;_.subscribe((function(){var t=_.getState();e.setState({list:t.list}),console.log(t.list);var a=[];if(e.state.list.length>0)for(var n=0;n<e.state.list.length;n++)a.push(e.state.list[n].imdbID);e.setState({id:a},(function(){return e.getPostFetch()}))}))}},{key:"getPostFetch",value:function(){var e={title:this.state.title,movies:this.state.id};fetch("https://acb-api.algoritmika.org/api/movies/list",{method:"POST",headers:{"Content-type":"aplication/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"favorites",children:[Object(d.jsx)("input",{disabled:this.state.isTitle,value:this.state.title,className:"favorites__name",onChange:function(t){return e.changeTitleHandler(t)}}),Object(d.jsx)("ul",{className:"favorites__list",children:this.state.list.map((function(t){return Object(d.jsxs)("li",{children:[t.Title," (",t.Year,")",Object(d.jsx)("button",{onClick:function(){return e.clickHandlerDelete(t.imdbID)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},t.id)}))}),this.state.isTitle?Object(d.jsx)(r.b,{children:"\u0421\u0441\u044b\u043b\u043a\u0430"}):Object(d.jsx)("button",{type:"button",className:"favorites__save",onClick:function(){return e.clickHandlerSave()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"})]})}}]),a}(n.Component)),T=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"main-page",children:[Object(d.jsx)(m,{}),Object(d.jsxs)("main",{className:"main-page__content",children:[Object(d.jsxs)("section",{className:"main-page__main-section",children:[Object(d.jsx)("div",{className:"main-page__search-box",children:Object(d.jsx)(x,{})}),Object(d.jsx)("div",{className:"main-page__movies",children:Object(d.jsx)(g,{})})]}),Object(d.jsx)("aside",{className:"main-page__favorites",children:Object(d.jsx)(N,{})})]})]})}}]),a}(n.Component),D=(a(50),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={movies:[{title:"The Godfather",year:1972,imdbID:"tt0068646"}]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params;console.log(e)}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"list-page",children:[Object(d.jsx)("h1",{className:"list-page__title",children:"\u041c\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a"}),Object(d.jsx)("ul",{children:this.state.movies.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsxs)("a",{href:"https://www.imdb.com/title/tt0068646/",target:"_blank",children:[e.title," (",e.year,")"]})},e.imdbID)}))})]})}}]),a}(n.Component)),S=(a(51),a(52),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(j.a,{path:"/",exact:!0,component:T}),Object(d.jsx)(j.a,{path:"/list/:id",exact:!0,component:D})]})}}]),a}(i.a.Component));s.a.render(Object(d.jsx)(r.a,{children:Object(d.jsx)(o.a,{store:_,children:Object(d.jsx)(S,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.f6f3ba52.chunk.js.map